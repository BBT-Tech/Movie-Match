webpackJsonp([1],{"3LWy":function(t,e){},"9tT0":function(t,e){},EL60:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("mtWM"),a=s.n(n),o=s("wvfG"),r=s.n(o),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},staticRenderFns:[]};var l=s("VU/8")({name:"App"},c,!1,function(t){s("wJrF")},null,null).exports,h=s("/ocq"),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"title"}),t._v(" "),s("div",{staticClass:"signIn",on:{click:t.signIn}}),t._v(" "),s("div",{staticClass:"inquery",on:{click:t.inquery}}),t._v(" "),s("div",[t._v(t._s(t.errorMsg))])])},staticRenderFns:[]};var p=s("VU/8")({data:function(){return{errorMsg:""}},name:"welcome",methods:{signIn:function(){5===this.$route.meta.status?this.errorMsg="活动已过期":this.$route.meta.login?!1===this.$route.meta.reg?0===this.$route.meta.status?this.$router.push({name:"signIn"}):this.errorMsg="报名已结束，感谢参与":this.$router.push({name:"prevent"}):this.errorMsg="请先授权登录"},inquery:function(){var t=this;5===this.$route.meta.status?this.errorMsg="活动已过期":!1===this.$route.meta.reg?this.errorMsg="你还没有报名":!1===this.$route.meta.login?this.errorMsg="请先授权登录":this.axios.post("api/query").then(function(e){var s=e.data;0===s.errno?(t.global.inqueryMsg=s,t.$router.push({name:"inquery"})):t.errorMsg=s.errmsg})}}},u,!1,function(t){s("b4D0")},"data-v-0150cd72",null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"end"},[e("div",{staticClass:"msg"},[this._v("你已经报过名啦"),e("br"),this._v("不要这么花心~")])])}]};var v=s("VU/8")({name:"prevent",beforeRouteEnter:function(t,e,s){t.meta.reg?s():s({name:"welcome",replace:!0})}},d,!1,function(t){s("f6GV")},"data-v-be03bc22",null).exports,m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signIn"},[s("div",{staticClass:"background-fix"}),t._v(" "),s("div",{staticClass:"title"},[t._v("报名表")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("姓名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.studentName,expression:"studentName"}],attrs:{placeholder:"请输入",type:"text",maxlength:"25"},domProps:{value:t.studentName},on:{input:function(e){e.target.composing||(t.studentName=e.target.value)}}})]),t._v(" "),s("div",{class:t.errName?"error":"correct"},[t._v("请输入姓名")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("性别")]),t._v(" \n    "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],staticClass:"special",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.sex=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),s("option",{attrs:{value:"0"}},[t._v("男")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("女")])])]),t._v(" "),s("div",{class:t.errSex?"error":"correct"},[t._v("请选择性别")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("年龄")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],attrs:{placeholder:"请输入",type:"text",maxlength:"2"},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}})]),t._v(" "),s("div",{class:t.errAge?"error":"correct"},[t._v("请输入年龄")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("手机")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],attrs:{placeholder:"请输入",type:"text",maxlength:"11"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})]),t._v(" "),s("div",{class:t.errPhone?"error":"correct"},[t._v("请输入正确的电话号码")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("学校")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.college,expression:"college"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.college=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),s("option",{attrs:{value:"0"}},[t._v("华南理工大学")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("广东药科大学")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("广东工业大学")]),t._v(" "),s("option",{attrs:{value:"3"}},[t._v("广州中医药大学")]),t._v(" "),s("option",{attrs:{value:"4"}},[t._v("广东外语外贸大学")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("广州美术学院")]),t._v(" "),s("option",{attrs:{value:"6"}},[t._v("华南师范大学")]),t._v(" "),s("option",{attrs:{value:"7"}},[t._v("星海音乐学院")]),t._v(" "),s("option",{attrs:{value:"8"}},[t._v("中山大学")]),t._v(" "),s("option",{attrs:{value:"9"}},[t._v("广州大学")])])]),t._v(" "),s("div",{class:t.errCollege?"error":"correct"},[t._v("请选择学校")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("学院")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.school,expression:"school"}],attrs:{placeholder:"请输入",type:"text",maxlength:"40"},domProps:{value:t.school},on:{input:function(e){e.target.composing||(t.school=e.target.value)}}})]),t._v(" "),s("div",{class:t.errSchool?"error":"correct"},[t._v("请输入学院")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("年级")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.grade,expression:"grade"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.grade=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("大一")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("大二")]),t._v(" "),s("option",{attrs:{value:"3"}},[t._v("大三")]),t._v(" "),s("option",{attrs:{value:"4"}},[t._v("大四或以上")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("研一")]),t._v(" "),s("option",{attrs:{value:"6"}},[t._v("研二")]),t._v(" "),s("option",{attrs:{value:"7"}},[t._v("研三")])])]),t._v(" "),s("div",{class:t.errGrade?"error":"correct"},[t._v("请选择年级")]),t._v(" "),s("div",{staticClass:"input-item"},[s("span",[t._v("微信")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.wechatID,expression:"wechatID"}],attrs:{placeholder:"选填",type:"text",maxlength:"24"},domProps:{value:t.wechatID},on:{input:function(e){e.target.composing||(t.wechatID=e.target.value)}}})]),t._v(" "),s("div",{class:t.errWechatID?"error":"correct"},[t._v("请检查微信号是否正确")]),t._v(" "),s("div",{staticClass:"next",on:{click:function(e){t.handleSubmit()}}})])},staticRenderFns:[]};var g=s("VU/8")({name:"signIn",data:function(){return{studentName:"",sex:"",age:"",phoneNumber:"",school:"",college:"",grade:"",wechatID:"",errName:!1,errSex:!1,errAge:!1,errPhone:!1,errSchool:!1,errCollege:!1,errGrade:!1,errWechatID:!1}},beforeRouteEnter:function(t,e,s){t.meta.reg?s({name:"prevent",replace:!0}):s()},methods:{handleSubmit:function(){""===this.studentName&&(this.errName=!0),""===this.sex&&(this.errSex=!0),(""===this.age||!/^\d{1,2}$/.test(this.age)||this.age<=0||this.age>200)&&(this.errAge=!0),""!==this.phoneNumber&&/^1\d{10}$/.test(this.phoneNumber)||(this.errPhone=!0),(""===this.college||this.college>40)&&(this.errCollege=!0),""===this.school&&(this.errSchool=!0),""===this.grade&&(this.errGrade=!0),this.errWechatID=!/^[a-z][\w-]{5,19}$/i.test(this.wechatID),/^\s*$/.test(this.wechatID)&&(this.wechatID="",this.errWechatID=!1),this.global.signIn.gender=this.sex,this.global.signIn.name=this.studentName,this.global.signIn.age=this.age,this.global.signIn.grade=this.grade,this.global.signIn.college=this.college,this.global.signIn.school=this.school,this.global.signIn.tel=this.phoneNumber,this.global.signIn.wechat=this.wechatID,this.errAge||this.errPhone||this.errSchool||this.errCollege||this.errGrade||this.errName||this.errSex||this.errWechatID||""===this.sex&&""===this.studentName&&""===this.age&&""===this.grade&&""===this.college&&""===this.school&&""===this.phoneNumber||(this.$route.meta.filled=!0,this.$router.push({path:"match"}))}},watch:{studentName:function(){this.errName=!1},sex:function(){this.errSex=!1},age:function(){this.errAge=!1},school:function(){this.errSchool=!1},college:function(){this.errCollege=!1},grade:function(){this.errGrade=!1},phoneNumber:function(){this.errPhone=!1}}},m,!1,function(t){s("qHIt")},"data-v-d6f68c76",null).exports,_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"match"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},staticRenderFns:[]};var f=s("VU/8")({name:"match",data:function(){return{picked:""}},beforeRouteEnter:function(t,e,s){"type"===t.name&&2===t.meta.status?s():t.meta.reg?s({name:"prevent",replace:"true"}):t.meta.status>0?s({name:"welcome",replace:"true"}):t.meta.filled?s():s({name:"signIn",replace:"true"})},methods:{}},_,!1,function(t){s("uGbN")},"data-v-37700e6b",null).exports,b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"config"},[s("div",{staticClass:"title"},[t._v("你希望匹配到的是")]),t._v(" "),s("div",{attrs:{id:"sex"}},[s("div",{staticClass:"pick"},[s("label",[s("span",{class:[t.isSelect?t.errorClass:t.activeClass]}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"男生"},domProps:{checked:t._q(t.picked,"男生")},on:{change:function(e){t.picked="男生"}}}),t._v(" "),s("span",[t._v("男生")])]),t._v(" "),s("label",[s("span",{class:[t.isSelect?t.activeClass:t.errorClass]}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"女生"},domProps:{checked:t._q(t.picked,"女生")},on:{change:function(e){t.picked="女生"}}}),t._v(" "),s("span",[t._v("女生")])])])]),t._v(" "),s("div",{staticClass:"test",on:{click:function(e){t.test()}}}),t._v(" "),s("div",{staticClass:"refuse"},[s("span",[t._v("不了，")]),t._v(" "),s("router-link",{attrs:{to:"/match/type"}},[t._v("直接选择电影类型")])],1)])},staticRenderFns:[]};var y=s("VU/8")({name:"config",data:function(){return{picked:"男生",isSelect:!1,activeClass:"selected",errorClass:"notSelected"}},mounted:function(){this.global.signIn.tagender=0},methods:{test:function(){this.$router.push({path:"/match/test"})}},watch:{picked:function(t){this.isSelect=!this.isSelect,this.global.signIn.tagender="男生"===t?0:1}}},b,!1,function(t){s("SnOi")},"data-v-3db74e4e",null).exports,x={components:{question:s("ccKs")},name:"test",data:function(){return{present:1,questionNow:"",questionList:[{id:1,question:"如果可以实现你一个愿望你会选择？",A:"A.有花不完的钱",B:"B.有一项超能力",C:"C.可以和喜欢的人在一起",D:"D.有像福尔摩斯一样的智商",E:"E.生活在二次元"},{id:2,question:"有一天，你突然收到一封来自远方的匿名信，第一想法是什么？",A:"A.外星来信",B:"B.多年未见的朋友",C:"C.哆啦A梦的邀请信",D:"D.喜欢的人的信",E:"E.恐吓信"},{id:3,question:"你最想从事以下哪种职业？",A:"A.婚礼设计师",B:"B.小说家",C:"C.漫画家",D:"D.侦探",E:"E.运动员"},{id:4,question:"森林最深处有一座建筑，你觉得最可能是？",A:"A.美丽的城堡",B:"B.古老的教堂",C:"C.阴森的鬼屋",D:"D.神秘的树屋",E:"E.武林大师的隐居处"},{id:5,question:"请问如果明天是世界末日，今天你想怎么过？",A:"A.和你喜欢的人一起",B:"B.熬夜看完最后一部番",C:"C.安乐死",D:"D.拜神，等待奇迹会发生",E:"E.思考逃生方案"},{id:6,question:"如果学校爆发了丧尸潮，你会",A:"A.等待命定之爱来救你",B:"B.和伙伴策划逃出学校，并寻找解药",C:"C.在学校建立幸存者基地",D:"D.等到弹尽粮绝，不得不走出了房间",E:"E.搜寻物资，集结小队，杀出学校"},{id:7,question:"某天你起床后发现宿舍里空无一人，于是你冲出宿舍，在学校在市区里发了疯地寻找，却仍是不见半个人的踪影。终于，在你绝望到崩溃的时候，你的面前出现了一扇古朴的门，推开门，你看见了",A:"A.创造了这个世界的神",B:"B.你仰慕多年暗恋已久的异性",C:"C.一群正在做空间与次元实验的科学家",D:"D.一个浑身是血，面目狰狞的人",E:"E.哆啦A梦"},{id:8,question:"如果你从楼梯上摔下，你觉得下面是",A:"A.飞毯",B:"B.帅哥/美女",C:"C.弹簧垫",D:"D.教导主任",E:"E.空无一物"},{id:9,question:"一个植物人如何唤醒",A:"A.求助哆啦A梦",B:"B.亲吻",C:"C.闪电",D:"D.进入他的精神世界",E:"E.做法"},{id:10,question:"你收到一个礼盒，你觉得里面是",A:"A.炸弹",B:"B.水晶球",C:"C.照片",D:"D.骨头",E:"E.手办"},{id:11,question:"觉得什么会使你力大无穷",A:"A.黄金矿工的药水",B:"B.被不明虫子咬了",C:"C.受到他人的欺侮",D:"D.暗恋对象受到委屈",E:"E.被人袭击"}]}},methods:{init:function(){this.global.answer.user=[];var t=this.present-1;this.questionNow=this.questionList[t]}},mounted:function(){this.init()},watch:{$route:function(t){var e=t.name.split("question");this.present=e[1];var s=this.present-1;this.questionNow=this.questionList[s]}}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"test"},[e("div",{staticClass:"count"},[e("span",[this._v(this._s(this.present))]),e("span",[this._v(" / 11")])]),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view",{attrs:{questionNow:this.questionNow}})],1)],1)},staticRenderFns:[]};var w=s("VU/8")(x,C,!1,function(t){s("ZUS6")},"data-v-0dc2cb53",null).exports,k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type"},[s("div",{staticClass:"title"},[t._v("选择你喜欢的类型：")]),t._v(" "),s("div",{staticClass:"options"},[s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"0"},domProps:{checked:t._q(t.picked,"0")},on:{change:function(e){t.picked="0"}}}),t._v("动画片")]),t._v(" "),s("span",{staticClass:"underLine",class:[t.select1?"selected":"notSelect"]})]),t._v(" "),s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.picked,"1")},on:{change:function(e){t.picked="1"}}}),t._v("恐怖片")]),t._v(" "),s("span",{staticClass:"underLine",class:[t.select2?"selected":"notSelect"]})]),t._v(" "),s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.picked,"2")},on:{change:function(e){t.picked="2"}}}),t._v("科幻动作片")]),t._v(" "),s("span",{staticClass:"underLine",class:[t.select3?"selected":"notSelect"]})]),t._v(" "),s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"3"},domProps:{checked:t._q(t.picked,"3")},on:{change:function(e){t.picked="3"}}}),t._v("爱情片")]),t._v(" "),s("span",{staticClass:"underLine",class:[t.select4?"selected":"notSelect"]})]),t._v(" "),s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",value:"4"},domProps:{checked:t._q(t.picked,"4")},on:{change:function(e){t.picked="4"}}}),t._v("剧情片")]),t._v(" "),s("span",{staticClass:"underLine",class:[t.select5?"selected":"notSelect"]})])]),t._v(" "),t.isSelect?s("div",{staticClass:"next",on:{click:t.handleSubmit}}):t._e(),t._v(" "),s("div",[t._v(t._s(t.errMsg))])])},staticRenderFns:[]};var E=s("VU/8")({name:"type",data:function(){return{isSelect:!1,select1:!1,select2:!1,select3:!1,select4:!1,select5:!1,picked:"",errMsg:""}},methods:{handleSubmit:function(){var t=this;this.global.signIn.movie=this.picked,0===this.$route.meta.status?this.$router.push({name:"draw"}):2===this.$route.meta.status?this.axios.post("api/second",{movie:this.global.signIn.movie}).then(function(e){var s=e.data;0===s.errno?t.$router.push({name:"success",params:{date:t.global.matchTime.secondN}}):t.errMsg=s.errmsg}):this.errMsg="本次活动已结束"}},watch:{picked:function(t){switch(this.global.signIn.movie=this.picked,t&&(this.isSelect=!0),t){case"0":this.select1=!0,this.select2=!1,this.select3=!1,this.select4=!1,this.select5=!1;break;case"1":this.select2=!0,this.select1=!1,this.select3=!1,this.select4=!1,this.select5=!1;break;case"2":this.select3=!0,this.select2=!1,this.select1=!1,this.select4=!1,this.select5=!1;break;case"3":this.select4=!0,this.select2=!1,this.select3=!1,this.select1=!1,this.select5=!1;break;case"4":this.select5=!0,this.select2=!1,this.select3=!1,this.select4=!1,this.select1=!1}}}},k,!1,function(t){s("fSRH")},"data-v-56063c53",null).exports,q=s("Zrlr"),N=s.n(q),I=void 0,A={name:"draw",data:function(){return{flag:!0,tips:"",allPoints:[],point:{pEndTop:{x:null,y:null},pEndTopAdj:{x:null,y:null},pTop:{x:null,y:null},pLeft:{x:null,y:null},pEndBottomAdj:{x:null,y:null},pEndBottom:{x:null,y:null}}}},mounted:function(){(I=new function t(){N()(this,t),this.canvas=document.getElementById("drawArea"),this.context=this.canvas.getContext("2d"),this.borderbox=this.canvas.getBoundingClientRect(),this.path={beginX:0,beginY:0,endX:0,endY:0}}).canvas.width=120,I.canvas.height=240},methods:{drawStart:function(t){t.preventDefault(),I.context.strokeStyle="#f1eff5",I.context.lineWidth=3,I.context.beginPath(),I.context.lineCap="round",I.context.lineJoin="round",this.tips=""},drawing:function(t){if(t.preventDefault(),!0===this.flag){var e={x:t.changedTouches[0].clientX-I.borderbox.left,y:t.changedTouches[0].clientY-I.borderbox.top};this.point.pTop=e.y<=this.point.pTop.y?e:this.point.pTop,this.point.pLeft=e.x<=this.point.pLeft.x?e:this.point.pLeft,this.allPoints.push({x:e.x,y:e.y}),I.context.lineTo(e.x,e.y),I.path.endX=e.x,I.path.endY=e.y,I.context.stroke(),(e.x>120||e.y>240||e.x<0||e.y<0)&&this.drawEnd()}else this.tips="只能画一笔哦"},drawEnd:function(){I.context.save(),I.context.closePath();var t=this.allPoints.length;!0===this.flag&&(1===t?(this.point.pEndTop.x=this.allPoints[0].x,this.point.pEndTop.y=this.allPoints[0].y,this.point.pEndTopAdj.x=this.allPoints[0].x,this.point.pEndTopAdj.y=this.allPoints[0].y,this.point.pEndBottom.x=this.allPoints[0].x,this.point.pEndBottom.y=this.allPoints[0].y,this.point.pEndBottomAdj.x=this.allPoints[0].x,this.point.pEndBottomAdj.y=this.allPoints[0].y):(this.allPoints[0].y<this.allPoints[t-1].y?(this.point.pEndTop.x=this.allPoints[0].x,this.point.pEndTop.y=this.allPoints[0].y,this.point.pEndTopAdj.x=this.allPoints[1].x,this.point.pEndTopAdj.y=this.allPoints[1].y,this.point.pEndBottom.x=this.allPoints[t-1].x,this.point.pEndBottom.y=this.allPoints[t-1].y,this.point.pEndBottomAdj.x=this.allPoints[t-2].x,this.point.pEndBottomAdj.y=this.allPoints[t-2].y):(this.point.pEndTop.x=this.allPoints[t-1].x,this.point.pEndTop.y=this.allPoints[t-1].y,this.point.pEndTopAdj.x=this.allPoints[t-2].x,this.point.pEndTopAdj.y=this.allPoints[t-2].y,this.point.pEndBottom.x=this.allPoints[0].x,this.point.pEndBottom.y=this.allPoints[0].y,this.point.pEndBottomAdj.x=this.allPoints[1].x,this.point.pEndBottomAdj.y=this.allPoints[1].y),this.global.signIn.points=[],this.global.signIn.points={t_top:Math.atan((this.point.pEndTopAdj.y-this.point.pEndTop.y)/(this.point.pEndTopAdj.x-this.point.pEndTop.x)),t_bottom:Math.atan((this.point.pEndBottomAdj.y-this.point.pEndBottom.y)/(this.point.pEndBottomAdj.x-this.point.pEndBottom.x)),h_end_top:this.point.pEndBottom.y-this.point.pEndTop.y,p_top:{x:(this.point.pTop.x-this.point.pEndBottom.x)/(this.point.pEndBottom.y-this.point.pEndTop.y),y:(this.point.pTop.y-this.point.pEndBottom.y)/(this.point.pEndBottom.y-this.point.pEndTop.y)},p_right:{x:(this.point.pLeft.x-this.point.pEndBottom.x)/(this.point.pEndBottom.y-this.point.pEndTop.y),y:(this.point.pLeft.y-this.point.pEndBottom.y)/(this.point.pEndBottom.y-this.point.pEndTop.y)}})),this.flag=!1},done:function(){var t=this,e=!0;if(this.global.signIn.points.t_top.x!==-1/0&&this.global.signIn.points.t_bottom.x!==-1/0&&this.global.signIn.points.h_end_top.x!==-1/0&&this.global.signIn.points.p_top.x!==-1/0&&this.global.signIn.points.p_right.x!==-1/0&&this.global.signIn.points.t_top.y!==-1/0&&this.global.signIn.points.t_bottom.y!==-1/0&&this.global.signIn.points.h_end_top.y!==-1/0&&this.global.signIn.points.p_top.y!==-1/0&&this.global.signIn.points.p_right.y!==-1/0||(e=!1),this.global.signIn.points.t_top.x!==-1/0&&this.global.signIn.points.t_bottom.x!==1/0&&this.global.signIn.points.h_end_top.x!==1/0&&this.global.signIn.points.p_top.x!==1/0&&this.global.signIn.points.p_right.x!==1/0&&this.global.signIn.points.t_top.y!==1/0&&this.global.signIn.points.t_bottom.y!==1/0&&this.global.signIn.points.h_end_top.y!==1/0&&this.global.signIn.points.p_top.y!==1/0&&this.global.signIn.points.p_right.y!==1/0||(e=!1),e){var s=I.canvas.toDataURL("image/png");this.global.signIn.imgdata=s,this.axios.post("api/register",this.global.signIn).then(function(e){var s=e.data;0===s.errno?(t.$route.meta.reg=!0,t.$router.push({name:"success",params:{date:t.global.matchTime.firstN}})):t.tips=s.errmsg})}else this.tips="这个爱心有点不走心哦，重新画一个吧-.-"},restart:function(){I.context.clearRect(0,0,120,240),this.flag=!0,this.allPoints=[]}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"draw"},[s("div",{staticClass:"title"},[t._v("请在左边画出一半爱心")]),t._v(" "),s("div",{staticClass:"canvas"},[s("canvas",{staticClass:"drawArea",attrs:{id:"drawArea"},on:{touchstart:function(e){t.drawStart(e)},touchmove:function(e){t.drawing(e)},touchend:t.drawEnd}}),t._v(" "),s("div",{staticClass:"right"})]),t._v(" "),s("div",{staticClass:"tips"},[t._v(t._s(t.tips))]),t._v(" "),t.flag?t._e():s("div",[s("div",{staticClass:"done",on:{click:t.done}}),t._v(" "),s("div",{staticClass:"restart",on:{click:t.restart}})])])},staticRenderFns:[]};var D=s("VU/8")(A,B,!1,function(t){s("3LWy")},"data-v-711a1e9e",null).exports,$=s("ccKs"),P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"testResult"},[s("div",{staticClass:"title"},[t._v("经测试，")]),t._v(" "),s("div",{staticClass:"title"},[t._v("你最适合看的电影类型为")]),t._v(" "),s("div",{staticClass:"result"},[t._v(t._s(t.result))]),t._v(" "),s("div",{staticClass:"inMatch",on:{click:function(e){t.match()}}}),t._v(" "),s("div",[s("span",[t._v("结果不对？")]),s("router-link",{attrs:{to:"/match/type"}},[t._v("直接更换类型")])],1)])},staticRenderFns:[]};var S=s("VU/8")({name:"testResult",data:function(){return{answerList:[{id:1,content:this.global.answer.user[0]},{id:2,content:this.global.answer.user[1]},{id:3,content:this.global.answer.user[2]},{id:4,content:this.global.answer.user[3]},{id:5,content:this.global.answer.user[4]},{id:6,content:this.global.answer.user[5]},{id:7,content:this.global.answer.user[6]},{id:8,content:this.global.answer.user[7]},{id:9,content:this.global.answer.user[8]},{id:10,content:this.global.answer.user[9]},{id:11,content:this.global.answer.user[10]}],cartoon:0,terrify:0,scienceFiction:0,romantic:0,feature:0,result:""}},mounted:function(){this.count()},methods:{count:function(){switch(this.global.answer.user[0]){case"A":this.feature+=1;break;case"B":this.scienceFiction+=1;break;case"C":this.romantic+=1;break;case"D":this.terrify+=1;break;case"E":this.cartoon+=1}switch(this.global.answer.user[1]){case"A":this.scienceFiction+=1;break;case"B":this.feature+=1;break;case"C":this.cartoon+=1;break;case"D":this.romantic+=1;break;case"E":this.terrify+=1}switch(this.global.answer.user[2]){case"A":this.romantic+=1;break;case"B":this.feature+=1;break;case"C":this.cartoon+=1;break;case"D":this.terrify+=1;break;case"E":this.scienceFiction+=1}switch(this.global.answer.user[3]){case"A":this.cartoon+=1;break;case"B":this.romantic+=1;break;case"C":this.terrify+=1;break;case"D":this.feature+=1;break;case"E":this.scienceFiction+=1}switch(this.global.answer.user[4]){case"A":this.romantic+=1;break;case"B":this.cartoon+=1;break;case"C":this.terrify+=1;break;case"D":this.feature+=1;break;case"E":this.scienceFiction+=1}switch(this.global.answer.user[5]){case"A":this.romantic+=1;break;case"B":this.feature+=1;break;case"C":this.cartoon+=1;break;case"D":this.terrify+=1;break;case"E":this.scienceFiction+=1}switch(this.global.answer.user[6]){case"A":this.feature+=1;break;case"B":this.romantic+=1;break;case"C":this.scienceFiction+=1;break;case"D":this.terrify+=1;break;case"E":this.cartoon+=1}switch(this.global.answer.user[7]){case"A":this.cartoon+=1;break;case"B":this.romantic+=1;break;case"C":this.scienceFiction+=1;break;case"D":this.terrify+=1;break;case"E":this.feature+=1}switch(this.global.answer.user[8]){case"A":this.cartoon+=1;break;case"B":this.romantic+=1;break;case"C":this.feature+=1;break;case"D":this.scienceFiction+=1;break;case"E":this.terrify+=1}switch(this.global.answer.user[9]){case"A":this.scienceFiction+=1;break;case"B":this.romantic+=1;break;case"C":this.feature+=1;break;case"D":this.terrify+=1;break;case"E":this.cartoon+=1}switch(this.global.answer.user[10]){case"A":this.cartoon+=1;break;case"B":this.scienceFiction+=1;break;case"C":this.feature+=1;break;case"D":this.romantic+=1;break;case"E":this.terrify+=1}for(var t=[this.cartoon,this.terrify,this.scienceFiction,this.romantic,this.feature],e=[this.cartoon,0],s=1;s<=5;s+=1)e[0]<t[s]&&(e[0]=t[s],e[1]=s);switch(this.global.signIn.movie=e[1],e[1]){case 0:this.result="动画片",this.global.signIn.movie=0;break;case 1:this.result="恐怖片",this.global.signIn.movie=1;break;case 2:this.result="科幻动作片",this.global.signIn.movie=2;break;case 3:this.result="爱情片",this.global.signIn.movie=3;break;case 4:this.result="剧情片",this.global.signIn.movie=4}},type:function(){this.$router.push({name:"type"})},match:function(){this.$router.push({name:"draw"})}}},P,!1,function(t){s("sQNg")},"data-v-cda64e2c",null).exports,T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"success"},[e("div",{staticClass:"msg"},[this._v("配对结果将在"+this._s(this.$route.params.date)+"公布，"),e("br"),this._v("请自行查询喔，"),e("br"),this._v("期待11.17雕刻盛典见到你～")])])},staticRenderFns:[]};var M=s("VU/8")({name:"success"},T,!1,function(t){s("fMBF")},"data-v-416512dc",null).exports,F={name:"inquery",data:function(){return{movie:"",response:"",matched:!1,matching:!0}},mounted:function(){this.init()},methods:{init:function(){switch(this.movie=["动画片","恐怖片","科幻动作片","爱情片","剧情片"][this.global.inqueryMsg.self.movie],this.global.inqueryMsg.status){case 0:this.response="配对成功！你们的爱心轨迹是：",this.matched=!0,this.matching=!1;break;case 1:this.response="匹配失败！",this.matched=!1,this.matching=!1;break;case 2:this.response="你的爱心轨迹是：",this.matched=!1,this.matching=!0}},know:function(){this.$router.push({name:"know"})},second:function(){this.$router.push({name:"second"})},timeCmp:function(t){for(var e=new Date,s=[[t.slice(0,4),e.getFullYear()],[t.slice(5,7),e.getMonth()+1],[t.slice(8,10),e.getDate()],[t.slice(11,13),e.getHours()],[t.slice(14,16),e.getMinutes()],[t.slice(17,19),e.getSeconds()]],i=0;i<6;i+=1)if(s[i][0]=Number(s[i][0]),s[i][0]!==s[i][1])return s[i][0]-s[i][1];return 0}},computed:{date:function(){return this.$route.meta.status<2?this.global.matchTime.firstW:this.$route.meta.status<4?this.global.matchTime.secondW:""}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inquery"},[s("div",{staticClass:"text"},[s("span",[t._v("你喜欢的电影类型是：")]),s("span",[t._v(t._s(t.movie))]),t._v(" "),s("div",[t._v(t._s(t.response))])]),t._v(" "),t._m(0),t._v(" "),s("div",[t.matched?s("div",{staticClass:"know",on:{click:t.know}}):t._e(),t._v(" "),t.matched&&t.timeCmp(t.global.matchTime.cancelEndTime)>0?s("router-link",{attrs:{to:"/cancel"}},[t._v("取消配对")]):t._e()],1),t._v(" "),t.matched?t._e():s("div",{staticClass:"fail"},[t.matching?s("span",[t._v("匹配结果将在"+t._s(t.date)+"公布")]):t._e(),t._v(" "),t.matching?t._e():s("div",{staticClass:"second",on:{click:t.second}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"matchImg"},[e("div",{staticClass:"leftImg"},[e("img",{attrs:{src:"api/image/self",alt:""}})]),this._v(" "),e("div",{staticClass:"rightImg"},[e("img",{attrs:{src:"api/image/ta",alt:""}})])])}]};var U=s("VU/8")(F,R,!1,function(t){s("EL60")},"data-v-fcf4c700",null).exports,j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"know"},[s("div",{staticClass:"title"},[t._v("了解一下Ta")]),t._v(" "),s("div",{staticClass:"result"},[s("span",[t._v("姓名："+t._s(t.name))])]),t._v(" "),s("div",{staticClass:"result"},[s("span",[t._v("年龄："+t._s(t.age))])]),t._v(" "),s("div",{staticClass:"result"},[s("span",[t._v("学校："+t._s(t.college))])]),t._v(" "),s("div",{staticClass:"result"},[s("span",[t._v("学院："+t._s(t.school))])]),t._v(" "),s("div",{staticClass:"result"},[s("span",[t._v("年级："+t._s(t.grade))])]),t._v(" "),s("div",{staticClass:"result"},[s("span",[t._v("手机："+t._s(t.phone))])]),t._v(" "),null!==t.wechatNumber?s("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.wechatNumber,expression:"wechatNumber",arg:"copy"}],staticClass:"result"},[s("span",[t._v("微信号(点击复制)：")]),s("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.wechatNumber,expression:"wechatNumber",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"copy"},[t._v(t._s(t.wechatNumber))])]):t._e(),t._v(" "),s("div",{staticClass:"back",on:{click:function(e){t.back()}}}),t._v(" "),s("div",{staticClass:"response"},[t._v(t._s(t.response))])])},staticRenderFns:[]};var L=s("VU/8")({name:"know",data:function(){return{name:this.global.inqueryMsg.ta.name,age:this.global.inqueryMsg.ta.age,school:this.global.inqueryMsg.ta.school,college:["华南理工大学","广东药科大学","广东工业大学","广州中医药大学","广东外语外贸大学","广州美术学院","华南师范大学","星海音乐学院","中山大学","广州大学"][this.global.inqueryMsg.ta.college],grade:["大一","大二","大三","大四或以上","研一","研二","研三"][this.global.inqueryMsg.ta.grade-1],phone:this.global.inqueryMsg.ta.tel,wechatNumber:this.global.inqueryMsg.ta.wechat,response:""}},methods:{back:function(){this.$router.history.go(-1)},onCopy:function(){this.response="复制成功！"},onError:function(t){this.response=t}}},j,!1,function(t){s("U9pc")},"data-v-6a651985",null).exports,V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cancel"},[s("div",{staticClass:"background-fix"}),t._v(" "),s("div",{staticClass:"title"},[t._v("取消配对")]),t._v(" "),s("div",{staticClass:"main"},[s("span",[t._v("你的密码是："+t._s(t.reciveWard))])]),t._v(" "),s("div",{staticClass:"main"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"收到的密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"tips"},[t._v("如主动取消，请把你的密码告知对方")]),t._v(" "),s("div",{staticClass:"tips"},[t._v("如对方取消，请输入收到的密码")]),t._v(" "),s("div",{staticClass:"next",on:{click:function(e){t.handleSubmit()}}}),t._v(" "),s("div",[t._v(t._s(t.errMsg))])])},staticRenderFns:[]};var W=s("VU/8")({name:"cancel",data:function(){return{password:"",reciveWard:this.global.inqueryMsg.self.psw,errMsg:""}},methods:{handleSubmit:function(){var t=this;this.axios.post("api/cancel",{psw:this.password}).then(function(e){var s=e.data;0===s.errno?t.$router.push({name:"second"}):t.errMsg=s.errmsg})}}},V,!1,function(t){s("PcB8")},"data-v-0d73e13c",null).exports,G={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second"},[e("div",{staticClass:"title"},[this._v("是否参加二次匹配？")]),this._v(" "),e("div",{staticClass:"agree",on:{click:this.agree}}),this._v(" "),e("div",{staticClass:"refuse",on:{click:this.refuse}})])},staticRenderFns:[]};var H=s("VU/8")({name:"second",methods:{agree:function(){this.$router.push({name:"type"})},refuse:function(){this.$router.push({name:"end"})}}},G,!1,function(t){s("9tT0")},"data-v-9ee67190",null).exports,Y={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"end"},[e("div",{staticClass:"msg"},[this._v("感谢参加本次活动")])])}]};var J=s("VU/8")(null,Y,!1,function(t){s("cPl8")},"data-v-75fd57e2",null).exports;i.a.use(h.a);var O,X={status:0,login:!1,reg:!1,filled:!1},K=new h.a({routes:[{path:"/",name:"welcome",component:p,meta:X},{path:"/signIn",name:"signIn",component:g,meta:X},{path:"/prevent",name:"prevent",component:v,meta:X},{path:"/match",component:f,children:[{path:"/",name:"sexMatch",component:y,meta:X},{path:"test",component:w,meta:X,children:[{path:"/",name:"question1",component:$.default,meta:X},{path:"question2",name:"question2",component:$.default,meta:X},{path:"question3",name:"question3",component:$.default,meta:X},{path:"question4",name:"question4",component:$.default,meta:X},{path:"question5",name:"question5",component:$.default,meta:X},{path:"question6",name:"question6",component:$.default,meta:X},{path:"question7",name:"question7",component:$.default,meta:X},{path:"question8",name:"question8",component:$.default,meta:X},{path:"question9",name:"question9",component:$.default,meta:X},{path:"question10",name:"question10",component:$.default,meta:X},{path:"question11",name:"question11",component:$.default,meta:X}]},{path:"testResult",name:"testResult",component:S,meta:X},{path:"type",name:"type",component:E,meta:X},{path:"draw",name:"draw",component:D,meta:X},{path:"/success",name:"success",component:M,meta:X}]},{path:"/inquery",name:"inquery",component:U,meta:X},{path:"/know",name:"know",component:L,meta:X},{path:"/cancel",name:"cancel",component:W,meta:X},{path:"/second",name:"second",component:H,meta:X},{path:"/end",name:"end",component:J,meta:X}]}),Z={signIn:{gender:null,name:null,age:null,grade:null,college:null,school:null,tel:null,wechat:null,movie:null,tagender:null,points:null,imgdata:null},answer:{user:[],feature:0,scienceFiction:0,romantic:0,suspense:0,cartoon:0},userStatus:{status:0,login:!1,reg:!1},inqueryMsg:null,matchTime:{firstN:"11.9",firstW:"11月9日",secondN:"11.15",secondW:"11月15日",cancelEndTime:"2018-11-13 00:00:00"}};i.a.use(r.a),i.a.prototype.axios=a.a,i.a.prototype.global=Z,i.a.config.productionTip=!1,K.beforeEach((O=!1,function(t,e,s){O?5===t.meta.status?(alert("电影对对碰结束啦，更多活动敬请期待。"),s(!1)):s():(O=!0,a.a.post("api/init").then(function(e){(e=e.data).errno?alert(e.msg):e.login?(t.meta.status=e.status,t.meta.login=e.login,t.meta.reg=e.reg):location.href="https://hemc.100steps.net/2018/fireman/auth.php?state=123&redirect="+encodeURIComponent("https://hemc.100steps.net/2018/movie-matching/api/login"),s()}))})),new i.a({el:"#app",router:K,components:{App:l},template:"<App/>"})},PcB8:function(t,e){},SnOi:function(t,e){},U9pc:function(t,e){},ZUS6:function(t,e){},b4D0:function(t,e){},cPl8:function(t,e){},ccKs:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question"},[s("div",{staticClass:"title"},[t._v(t._s(t.questionNow.question))]),t._v(" "),s("div",{staticClass:"option"},[s("label",[s("input",{attrs:{type:"radio",value:"A"},on:{click:function(e){t.handleSubmit(e)}}}),s("span",[t._v(t._s(t.questionNow.A))])])]),t._v(" "),s("div",{staticClass:"option"},[s("label",[s("input",{attrs:{type:"radio",value:"B"},on:{click:function(e){t.handleSubmit(e)}}}),s("span",[t._v(t._s(t.questionNow.B))])])]),t._v(" "),s("div",{staticClass:"option"},[s("label",[s("input",{attrs:{type:"radio",value:"C"},on:{click:function(e){t.handleSubmit(e)}}}),s("span",[t._v(t._s(t.questionNow.C))])])]),t._v(" "),s("div",{staticClass:"option"},[s("label",[s("input",{attrs:{type:"radio",value:"D"},on:{click:function(e){t.handleSubmit(e)}}}),s("span",[t._v(t._s(t.questionNow.D))])])]),t._v(" "),s("div",{staticClass:"option"},[s("label",[s("input",{attrs:{type:"radio",value:"E"},on:{click:function(e){t.handleSubmit(e)}}}),s("span",[t._v(t._s(t.questionNow.E))])])])])},staticRenderFns:[]};var n=s("VU/8")({name:"question",props:["questionNow"],data:function(){return{present:"",question:"",A:"",B:"",C:"",D:"",E:""}},methods:{handleSubmit:function(t){this.global.answer.user.push(t.toElement.value);var e=this.questionNow.id+1;e<12?this.$router.push({name:"question"+e}):this.$router.push({name:"testResult"})}}},i,!1,function(t){s("iET/")},"data-v-52570824",null);e.default=n.exports},f6GV:function(t,e){},fMBF:function(t,e){},fSRH:function(t,e){},"iET/":function(t,e){},qHIt:function(t,e){},sQNg:function(t,e){},uGbN:function(t,e){},wJrF:function(t,e){}},["NHnr"]);